@font-face {
  font-family: retro16;
  src: local(retro16), url(#{$theme-path}retro16.ttf);
}

@font-face {
  font-family: retro8;
  src: local(retro8), url(#{$theme-path}retro8.ttf);
}

html,
body {
  height: 100%;
  overflow: auto;
  font-feature-settings: "kern";
}

// Make buttons and inputs use the current font.
.btn,
.form-control {
  font-family: inherit;
}

// Drop shadow
body,
.btn,
.form-control,
.popover {
  text-shadow: 1px 0 black, 0 1px black, 1px 1px black;
}

.badge-light,
.list-group-item-light.active {
  text-shadow: 1px 0 $gray-500, 0 1px $gray-500, 1px 1px $gray-500;
}

hr {
  box-shadow: 1px 0 black, 0 1px black, 1px 1px black;
}

// Box outline
.alert,
.badge,
.breadcrumb,
.btn:not(.btn-link):not(:focus),
.btn-group,
.card,
.form-control,
.input-group,
.list-group,
.popover,
.progress,
.table-bordered {
  box-shadow: 0 0 0 1px $black;
}

.list-group-flush {
  box-shadow: none;
}

.btn-group .btn,
.input-group .form-control,
.input-group-append .btn,
.input-group-prepend .btn {
  &:not(:focus) {
    box-shadow: none;
  }
}

// Fix square outline on groups.
.btn-group {
  border-radius: $btn-border-radius;
}

.btn-group-lg {
  border-radius: $btn-border-radius-lg;
}

.btn-group-sm {
  border-radius: $btn-border-radius-sm;
}

.input-group {
  border-radius: $input-border-radius;
}

.input-group-lg {
  border-radius: $input-border-radius-lg;
}

.input-group-sm {
  border-radius: $input-border-radius-sm;
}

.list-group {
  border-radius: $list-group-border-radius;
}

// Button hover text color
a.btn:not(.btn-link):focus {
  color: $white;
}

// Secondary background text color: slightly darker.
.badge-secondary,
.badge-secondary[href]:hover,
.badge-secondary[href]:focus,
.btn-secondary,
.btn-secondary:hover,
.btn-secondary:not(:disabled):not(.disabled):active,
.btn-secondary:not(:disabled):not(.disabled):active:focus {
  color: #ccc;
}

// Close button: fix vertical centring.
.close {
  line-height: 1.5625rem;
}

// Use card background color for card header tabs.
.card-header-tabs .nav-link.active {
  background: $card-bg;
  border-bottom-color: $card-bg;
}

// Badges: better vertical centering.
.badge {
  vertical-align: 12%;
}

// Popover: header border color.
.popover-header {
  border-bottom-color: $popover-border-color;
}

// Alert theme colors: dark background and light text.
@each $color, $value in $theme-colors {
  .alert-#{$color} {
    @include alert-variant(
      theme-color-level($color, 8),
      theme-color-level($color, 3),
      theme-color-level($color, -8)
    );
  }
}

// Theme colors: dark background instead of light and lighten on hover instead
// of darken.
@each $color, $value in $theme-colors {
  $text: lighten($value, 30%);
  $background: theme-color-level($color, 8);
  $hover-background: lighten($background, 5%);

  @include list-group-item-variant($color, $background, $text);
  @include table-row-variant($color, $background);
  @include text-emphasis-variant(".text-#{$color}", $text);

  .list-group-item-#{$color}.list-group-item-action {
    @include hover-focus {
      background-color: $hover-background;
    }

    &.active {
      background-color: $text;
    }
  }

  .table-#{$color} {
    color: $text;
  }

  .table-hover .table-#{$color} {
    @include hover {
      background-color: $hover-background;

      > td,
      > th {
        background-color: $hover-background;
      }
    }
  }
}

.list-group-item-action.list-group-item-light.active {
  color: black;
}
